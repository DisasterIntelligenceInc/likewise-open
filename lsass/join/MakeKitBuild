make()
{
    LSAJOIN_SOURCES="\
        error.c          \
	globals.c        \
	join.c           \
	ldaputil.c       \
	leave.c          \
	libmain.c        \
	lsakrb5smb.c     \
	lsaldap.c        \
	query.c          \
	keytab.c         \
	ktldap.c"

    LSAJOIN_HEADERDEPS="\
        openssl/rand.h dce/rpc.h gssapi.h eventlog.h \
        lwadvapi.h lw/base.h uuid/uuid.h lwps/lwps.h ldap.h lwnet.h"

    mk_library \
	LIB=lsajoin \
	SOURCES="$LSAJOIN_SOURCES" \
	CPPFLAGS="-DLW_ENABLE_THREADS" \
	INCLUDEDIRS=". ../include ../server/include keytab" \
	HEADERDEPS="$LSAJOIN_HEADERDEPS" \
	LIBDEPS="lsacommon lsarpc eventlog" \
	GROUPS="../logging_r/logging_r"
}